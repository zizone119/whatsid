import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.SQLException;
import java.util.Scanner;

public class Update {
	public void Update() {
		String name = "";
		int kuk, eng, mat, tot, avg;
		String etc = "";
		Scanner in = new Scanner(System.in);
		System.out.println("수정할 이름을 입력하세요.");
		name = in.nextLine();
		System.out.println("변경할 국어:");
		kuk = in.nextInt();
		System.out.println("변경할 영어:");
		eng = in.nextInt();
		System.out.println("변경할 수학:");
		mat = in.nextInt();
		in.nextLine();
		System.out.println("변경할 기타:");
		etc = in.nextLine();
		tot=kuk+eng+mat;
		avg=tot/3;
		Connection con=null;
		PreparedStatement pstmt=null;
		try {
			con=DBConnect.getConnection();
			String sql="update sungjuk set kuk=? eng=? mat=? tot=? avg=? etc=? where name=?";
			pstmt=con.prepareStatement(sql);
			pstmt.setInt(1, kuk);
            pstmt.setInt(2, eng);
            pstmt.setInt(3, mat);
            pstmt.setInt(4, tot);
            pstmt.setInt(5, avg);
            pstmt.setString(6, etc);
            pstmt.setString(7, name);
            int ret=pstmt.executeUpdate();
            if(ret<1) {
            	System.out.println("수정할 대상이 없습니다.");
            }else {
            	System.out.println(ret+"개가 수정되었습니다.");
            }
		} catch (SQLException e) {
		} finally {
			DBConnect.close(con, pstmt);
		}
	}
}
